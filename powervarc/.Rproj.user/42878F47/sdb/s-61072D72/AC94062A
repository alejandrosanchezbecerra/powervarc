{
    "collab_server" : "",
    "contents" : "\n\nsample_randomize <- function(data,treatment_name, clustervar,\n                             p_cluster, p_individual) {\n\n  # data <- sample_data\n  # p_cluster    <- 0.5\n  # p_individual <- 0.2\n  # clustervar <- 'variable1'\n\n  cluster_id <- data[,c(clustervar)]\n  unique_cluster_id <- unique(cluster_id)\n\n  num_obs      <- dim(sample_data)[1]\n  num_clusters <- length(unique_cluster_id)\n\n  rand_obs      <- rbinom(num_obs,1,p_individual)\n  rand_clusters <- rbinom(num_clusters,1,p_cluster)\n\n  treatment_cluster <- as.data.frame(cbind(unique_cluster_id,rand_clusters))\n  data <- merge(data,treatment_cluster,by.x=clustervar,by.y=\"unique_cluster_id\")\n\n  data$rand_obs  <- rand_obs\n  data$treatment <- (data$rand_obs)*(data$rand_clusters)\n\n  return(data)\n\n}\n\n\nempty_matrix <- matrix(c(rbinom(1000,20,0.5),rnorm(1000)),1000,2)\n\nsample_data <- as.data.frame(empty_matrix)\nnames(sample_data) <- c('variable1','variable2')\n\nsample_data_transform <- sample_randomize(sample_data,'treatment','variable1',0.5,0.5)\n\nsum(sample_data_transform$treatment)\n",
    "created" : 1502244272918.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "464332312",
    "id" : "AC94062A",
    "lastKnownWriteTime" : 1502246742,
    "last_content_update" : 1502246742487,
    "path" : "~/GitHub/powervarc/powervarc/R/dgp.R",
    "project_path" : "R/dgp.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}